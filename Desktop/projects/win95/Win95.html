<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>STORM - Win95 Window Maker</title>
  <style>
    body {
      background: teal;
      font-family: "MS Sans Serif", Tahoma, sans-serif;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 12px;
      padding: 30px;
      min-height: 100vh;
    }

    .Window {
      width: 300px;
      background: #c0c0c0;
      border: 2px solid #000;
      box-shadow: inset -2px -2px #808080, inset 2px 2px #fff;
      padding: 3px;
      margin: 0;
      display: flex;
      flex-direction: column;
    }

    .WindowTopBar {
      background: navy;
      color: white;
      padding: 4px 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: bold;
      font-size: 14px;
    }

    .TopBarContent {
      margin: 0;
      padding: 0;
      user-select: none;
    }

    .CloseButton {
      background: #c0c0c0;
      border: 2px solid #fff;
      border-right-color: #808080;
      border-bottom-color: #808080;
      width: 20px;
      height: 20px;
      font-weight: bold;
      cursor: pointer;
      line-height: 16px;
      text-align: center;
      padding: 0;
    }

    .CloseButton:active {
      border: 2px solid #808080;
      border-right-color: #fff;
      border-bottom-color: #fff;
    }

    .MainContent {
      padding: 10px;
      font-size: 14px;
      min-height: 50px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }

    .MainContentText {
      margin: 0;
      word-break: break-word;
    }

    .ButtonOptions {
      padding: 8px;
      display: flex;
      justify-content: flex-end;
      gap: 6px;
    }

    .ButtonOptionsbutton {
      background: #c0c0c0;
      border: 2px solid #fff;
      border-right-color: #808080;
      border-bottom-color: #808080;
      padding: 3px 12px;
      font-size: 14px;
      cursor: pointer;
    }

    .ButtonOptionsbutton:active {
      border: 2px solid #808080;
      border-right-color: #fff;
      border-bottom-color: #fff;
    }

    .settings-row {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-bottom: 8px;
    }
    label { min-width: 110px; font-size: 13px; }
    input[type="text"], input[type="number"] {
      flex: 1;
      padding: 4px;
      font-size: 13px;
      border: 1px solid #00000055;
    }
    .muted { font-size: 12px; color: #222; opacity: 0.8; margin: 4px 0 8px 0; }
  </style>
</head>
<body>
  <!-- SETTINGS WINDOW -->
  <div class="Window" id="settingsWindow" style="width:360px;">
    <div class="WindowTopBar">
      <span class="TopBarContent">Settings</span>
      <button class="CloseButton" id="settingsClose">X</button>
    </div>

    <div class="MainContent" style="flex-direction:column;">
      <div class="settings-row">
        <label for="topInput">Top bar text</label>
        <input id="topInput" type="text" placeholder="This is Top Bar Content" value="This is Top Bar Content">
      </div>

      <div class="settings-row">
        <label for="mainInput">Main content</label>
        <input id="mainInput" type="text" placeholder="This is Main Content" value="This is Main Content">
      </div>

      <div class="settings-row">
        <label for="buttonInput">Button label</label>
        <input id="buttonInput" type="text" placeholder="Ok" value="Ok">
      </div>

      <div class="settings-row">
        <label for="widthInput">Window width (px)</label>
        <input id="widthInput" type="number" min="160" max="800" value="300">
      </div>

      <div class="settings-row">
        <label for="hideTop">Hide top bar</label>
        <input id="hideTop" type="checkbox">
      </div>

      <div class="muted">Live preview updates as you type. Click "Apply" to commit changes.</div>

      <div class="ButtonOptions" style="padding:0;">
        <button class="ButtonOptionsbutton" id="applyBtn">Apply</button>
        <button class="ButtonOptionsbutton" id="resetBtn">Reset</button>
      </div>
    </div>
  </div>

  <!-- TARGET WINDOW -->
  <div class="Window" id="targetWindow" style="width:300px;">
    <div class="WindowTopBar" id="targetTopBar">
      <span class="TopBarContent" id="targetTopText">This is Top Bar Content</span>
      <button class="CloseButton" id="targetClose">X</button>
    </div>

    <div class="MainContent">
      <p class="MainContentText" id="targetMainText">This is Main Content</p>
    </div>

    <div class="ButtonOptions">
      <button class="ButtonOptionsbutton" id="targetButton">Ok</button>
    </div>
  </div>

<script>
  const topInput = document.getElementById('topInput');
  const mainInput = document.getElementById('mainInput');
  const buttonInput = document.getElementById('buttonInput');
  const widthInput = document.getElementById('widthInput');
  const hideTop = document.getElementById('hideTop');

  const applyBtn = document.getElementById('applyBtn');
  const resetBtn = document.getElementById('resetBtn');

  const targetWindow = document.getElementById('targetWindow');
  const targetTopBar = document.getElementById('targetTopBar');
  const targetTopText = document.getElementById('targetTopText');
  const targetMainText = document.getElementById('targetMainText');
  const targetButton = document.getElementById('targetButton');

  function applySettings({live=false} = {}) {
    targetTopText.textContent = topInput.value || ' ';
    targetMainText.textContent = mainInput.value || ' ';
    targetButton.textContent = buttonInput.value || 'Ok';

    const w = parseInt(widthInput.value, 10) || 300;
    targetWindow.style.width = Math.max(160, Math.min(800, w)) + 'px';

    targetTopBar.style.display = hideTop.checked ? 'none' : 'flex';

    if (!live) {
      targetWindow.style.transition = 'transform 0.06s';
      targetWindow.style.transform = 'scale(0.998)';
      setTimeout(() => {
        targetWindow.style.transform = '';
        setTimeout(()=> targetWindow.style.transition = '', 80);
      }, 70);
    }
  }

  [topInput, mainInput, buttonInput, widthInput, hideTop].forEach(el => {
    el.addEventListener('input', () => applySettings({live:true}));
  });

  applyBtn.addEventListener('click', () => applySettings({live:false}));

  resetBtn.addEventListener('click', () => {
    topInput.value = 'This is Top Bar Content';
    mainInput.value = 'This is Main Content';
    buttonInput.value = 'Ok';
    widthInput.value = 300;
    hideTop.checked = false;
    applySettings({live:false});
  });

  document.getElementById('targetClose').addEventListener('click', () => {
    targetWindow.style.display = 'none';
  });

  document.getElementById('settingsClose').addEventListener('click', () => {
    document.getElementById('settingsWindow').style.display = 'none';
  });

  targetButton.addEventListener('click', () => {
    alert('Button clicked: ' + targetButton.textContent);
  });

  applySettings({live:true});
</script>
</body>
</html>
